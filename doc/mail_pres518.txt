Titolo:
Homo sine pecunia est imago mortis.

Presentazione:
Questa nuova versione permette la generazione del file per la comunicazione delle operazioni rilevanti ai fini IVA rispettando il nuovo tracciato predisposto dall'Agenzia delle Entrate; siccome quest'ultima non ha ancora pubblicato il suo software per la compilazione dello stesso documento non è stato possibile fare dei confronti o dei test specifici. Quindi, fintanto che non avremo il quadro completo, il tracciato prodotto da GAzie si attiene alle specifiche tecniche già pubblicate.
Il database è stato aggiornato attraverso una query che inserisce sulle testate dei movimenti contabili il riferimento ai documenti di provenienza, questa colonna prima esisteva ma non era stata valorizzata e laddove era necessario si faceva il contrario, ovvero si andava ad attingere dalle testate dei documenti l'id del relativo movimento contabile: questo rallentava di molto la query, ed ora che si è sentita la necessità di farne molte ricorsive: i nodi sono venuti al pettine.
I test su una installallazione produttiva con oltre ventimila testate contabili e altrettante testate di documenti mettevano a dura prova il server, con questa nuova indicizzazione tutto è molto più veloce restituendo i documenti di riferimento alle registrazioni contabili in pochi secondi, anche con hardware obsoleto. Dovete sapere che l'aggiornamento del database dalla versione 76 alla 77, in pratica l'esecuzione delle query contenute in update_to_5.18.sql, in caso di installazione con migliaia di record contabili potrebbe impiegare qualche minuto (nel mio caso circa 1 minuto per ogni 1000 record): ne vale la pena.
Sotto potete guardare l'elenco delle altre correzioni e delle migliorie apportate.

Modifiche apportate:
- eliminata segnalazione IVA non congrua sui corrispettivi.
- emafer il giorno 28.09.2011 ha aggiunto l'impostazione della nazione in caso di scelta da autocompletamento in fase di inserimento/modifica anagrafiche.   
- corretto errore di ventilazione delle spese incasso e di trasporto (non documentate).
- segnalato e corretto da dg7 (Daniele Giacomini) errore su lunghezze della password non omogenee a quelle del relativo campo sulla base dati.
- corretto errore di mancata valorizzazione del cliente sulla schermata di eliminazione dei contratti.
- completata (ma non testata) la procedura per la generazione dei file per la comunicazione delle operazioni rilevanti ai fini IVA.
- recepita patch (ID: 3423544) di zanella69 (Giorgio Zanella) sulla schermata di selezione del report dei partitari.
 
Antonio de Vincentiis, Montesilvano, 11 Novembre 2011.