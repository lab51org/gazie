<?php

// platform_check.php @generated by Composer

$issues = array();
// questa versione di composer richiede PHP_VERSION_ID >= 80001. 
//Visto che al momento Le librerie utilizzate in GAzie sono solo phpseclib e ddebor e visto che ddeboer, 
//per come usato in GAzie, sembra funzionare anche con php 7.4.27, 
//per evitare blocchi ad utenti impossibilitati a passare a php 8.0 Ã¨ stato modificato il controllo seguente da 80001 a 70400
if (!(PHP_VERSION_ID >= 70400)) {
    $issues[] = 'Your Composer dependencies require a PHP version ">= 8.0.1". You are running ' . PHP_VERSION . '.';
}

if ($issues) {
    if (!headers_sent()) {
        header('HTTP/1.1 500 Internal Server Error');
    }
    if (!ini_get('display_errors')) {
        if (PHP_SAPI === 'cli' || PHP_SAPI === 'phpdbg') {
            fwrite(STDERR, 'Composer detected issues in your platform:' . PHP_EOL.PHP_EOL . implode(PHP_EOL, $issues) . PHP_EOL.PHP_EOL);
        } elseif (!headers_sent()) {
            echo 'Composer detected issues in your platform:' . PHP_EOL.PHP_EOL . str_replace('You are running '.PHP_VERSION.'.', '', implode(PHP_EOL, $issues)) . PHP_EOL.PHP_EOL;
        }
    }
    trigger_error(
        'Composer detected issues in your platform: ' . implode(' ', $issues),
        E_USER_ERROR
    );
}
